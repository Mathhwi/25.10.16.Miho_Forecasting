# ì‚¬ê±´ ë¶„ë¦¬ ë¡œì§ ìƒì„¸ ë¶„ì„

## ì§ˆë¬¸
> ë§Œì•½ 2.34më¥¼ ë„˜ê³ , 3ì‹œê°„ í›„ ë‚´ë ¤ê°”ë‹¤ê°€, 3ì‹œê°„ í›„ ë‹¤ì‹œ ì˜¬ë¼ê°€ë©´  
> ë‘ ì‚¬ê±´ì€ ë‹¤ë¥¸ ì´ë²¤íŠ¸ë¡œ ì²˜ë¦¬ë˜ë‚˜?

---

## âœ… ë‹µë³€: **YES, 2ê°œì˜ ë³„ê°œ ì‚¬ê±´ìœ¼ë¡œ ì²˜ë¦¬ë¨**

### ì½”ë“œ ë¶„ì„ (247-303ë²ˆ ë¼ì¸)

```python
# 1ë‹¨ê³„: ëª¨ë“  ìƒìŠ¹ êµì°¨ ê°ì§€
df['ìƒìŠ¹êµì°¨'] = (df['ì´ì „ìˆ˜ìœ„'] < 2.34) & (df['ìˆ˜ìœ„'] >= 2.34)
crossing_indices = df[df['ìƒìŠ¹êµì°¨']].index.tolist()

# 2ë‹¨ê³„: ê° êµì°¨ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ì²˜ë¦¬
for idx in crossing_indices:
    crossing_time = df.loc[idx, 'ì¼ì‹œ']
    
    # í”¼í¬ ì°¾ê¸° (êµì°¨ í›„ 24h ë‚´)
    # ...
    
    # ìš°ë°œì  ë³€ë™ ì œì™¸
    if max_level < threshold + 0.1:  # 2.44m ë¯¸ë§Œì´ë©´ ì œì™¸
        continue
    
    # ì‚¬ê±´ìœ¼ë¡œ ì €ì¥
    events.append(event_info)
```

**í•µì‹¬**: 
- ê° ìƒìŠ¹ êµì°¨ë¥¼ **ë…ë¦½ì ìœ¼ë¡œ** ê°ì§€
- **ì¤‘ë³µ ì œê±° ë¡œì§ ì—†ìŒ**
- ë‹¨, í”¼í¬ê°€ 2.44m ì´ìƒì´ì–´ì•¼ ì‚¬ê±´ìœ¼ë¡œ ì¸ì •

---

## ğŸ“Š ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì‚¬ìš©ì ì§ˆë¬¸ ì¼€ì´ìŠ¤

```
ìˆ˜ìœ„(m)
  2.8 â”¤    â•­â”€â•®   â•­â”€â•®
      â”‚   â•±   â•² â•±   â•²
  2.4 â”¤  â•±     X     â•²
  2.3 â”¤â”€â•¯      â”‚      â•²â”€
      â”‚        â”‚       
      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â–º ì‹œê°„
         êµì°¨1 â†“  êµì°¨2
         (0h) 3h  6h
```

**ìƒì„¸ ë°ì´í„°**:
| ì‹œê°„ | ìˆ˜ìœ„ | ì´ë²¤íŠ¸ |
|------|------|--------|
| 0h | 2.33 â†’ 2.35 | **êµì°¨ 1** â­ |
| 1h | 2.50 | ìƒìŠ¹ |
| 2h | 2.70 | í”¼í¬ 1 (2.70m) |
| 3h | 2.40 â†’ 2.30 | í•˜ê°• (êµì°¨ ì•„ë‹˜) |
| 4h | 2.25 | ê³„ì† í•˜ê°• |
| 5h | 2.28 | ìƒìŠ¹ ì‹œì‘ |
| 6h | 2.30 â†’ 2.35 | **êµì°¨ 2** â­ |
| 7h | 2.55 | ìƒìŠ¹ |
| 8h | 2.75 | í”¼í¬ 2 (2.75m) |

**ì²˜ë¦¬ ê²°ê³¼**:
```
ì‚¬ê±´ #1:
  - êµì°¨: 0h (2.35m)
  - í”¼í¬: 2h (2.70m)
  - ì¡°ê±´: 2.70 â‰¥ 2.44 âœ… â†’ ì‚¬ê±´ìœ¼ë¡œ ì¸ì •

ì‚¬ê±´ #2:
  - êµì°¨: 6h (2.35m)
  - í”¼í¬: 8h (2.75m)
  - ì¡°ê±´: 2.75 â‰¥ 2.44 âœ… â†’ ì‚¬ê±´ìœ¼ë¡œ ì¸ì •
```

**ê²°ë¡ **: **2ê°œì˜ ë³„ê°œ ì‚¬ê±´** âœ…

---

### ì‹œë‚˜ë¦¬ì˜¤ 2: ìš°ë°œì  ë³€ë™ (ì œì™¸ë˜ëŠ” ì¼€ì´ìŠ¤)

```
ìˆ˜ìœ„(m)
  2.4 â”¤  â•­â”€â•®   â•­â”€â•®
  2.34â”¤â”€â•¯   â•²â”€â•¯   â•²â”€
  2.3 â”¤
      â””â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â–º ì‹œê°„
       êµì°¨1 â†“ êµì°¨2
             X
```

**ìƒì„¸ ë°ì´í„°**:
| ì‹œê°„ | ìˆ˜ìœ„ | ì´ë²¤íŠ¸ |
|------|------|--------|
| 0h | 2.33 â†’ 2.38 | **êµì°¨ 1** |
| 1h | 2.40 | í”¼í¬ 1 (2.40m) âŒ 2.44 ë¯¸ë§Œ! |
| 2h | 2.36 â†’ 2.32 | í•˜ê°• |
| 3h | 2.32 â†’ 2.36 | **êµì°¨ 2** |
| 4h | 2.41 | í”¼í¬ 2 (2.41m) âŒ 2.44 ë¯¸ë§Œ! |

**ì²˜ë¦¬ ê²°ê³¼**:
```
êµì°¨ 1 ê°ì§€ â†’ í”¼í¬ 2.40m < 2.44m â†’ âŒ ì œì™¸
êµì°¨ 2 ê°ì§€ â†’ í”¼í¬ 2.41m < 2.44m â†’ âŒ ì œì™¸
```

**ê²°ë¡ **: ë‘˜ ë‹¤ ìš°ë°œì  ë³€ë™ìœ¼ë¡œ **0ê°œ ì‚¬ê±´** âœ…

---

### ì‹œë‚˜ë¦¬ì˜¤ 3: ì‹¤ì œ ë°ì´í„°ì—ì„œ ë°œìƒ ê°€ëŠ¥?

```
ìˆ˜ìœ„(m)
  3.0 â”¤    â•­â”€â”€â”€â•®
      â”‚   â•±     â•²
  2.6 â”¤  â•±       â•²â•­â”€â•®
      â”‚ â•±         X  â•²
  2.4 â”¤â•±          â”‚   â•²â”€
  2.3 â”¤           â”‚    
      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â–º ì‹œê°„
         êµì°¨1   êµì°¨2
                 (ì¤‘ë³µ?)
```

**ê°€ëŠ¥ì„±**: 
- í° ê°•ìš° ì‚¬ê±´ í›„ ì‘ì€ í›„ì† ê°•ìš°
- ì²« ë²ˆì§¸ ì‚¬ê±´ì˜ í•˜ê°• ì¤‘ ë‘ ë²ˆì§¸ ê°•ìš° ë°œìƒ

**ë¬¸ì œ**: 
- ë¬¼ë¦¬ì ìœ¼ë¡œëŠ” **í•˜ë‚˜ì˜ ì—°ì†ëœ ì‚¬ê±´**ì¼ ìˆ˜ ìˆìŒ
- ì½”ë“œëŠ” **2ê°œì˜ ë…ë¦½ ì‚¬ê±´**ìœ¼ë¡œ ë¶„ë¦¬

---

## ğŸ” í˜„ì¬ ë¡œì§ì˜ íŠ¹ì§•

### âœ… ì¥ì 

1. **ëª…í™•í•œ ì •ì˜**
   - ìƒìŠ¹ êµì°¨ = ìƒˆë¡œìš´ ì‚¬ê±´
   - ì½”ë“œê°€ ë‹¨ìˆœí•˜ê³  ëª…í™•

2. **ìš°ë°œì  ë³€ë™ ì œê±°**
   - í”¼í¬ â‰¥ 2.44m ì¡°ê±´
   - ì‘ì€ ì§„ë™ì€ ê±¸ëŸ¬ì§

3. **ë…ë¦½ì„± ë³´ì¥**
   - ê° ì‚¬ê±´ì´ ëª…í™•íˆ ë¶„ë¦¬ë¨
   - í†µê³„ ë¶„ì„ì— ìœ ë¦¬

### âš ï¸ ë‹¨ì  (ì ì¬ì  ë¬¸ì œ)

1. **ë¬¼ë¦¬ì ìœ¼ë¡œ ì—°ì†ëœ ì‚¬ê±´ ë¶„ë¦¬ ê°€ëŠ¥**
   ```
   ì˜ˆ: íƒœí’ìœ¼ë¡œ ì¸í•œ ì¥ê¸°ê°„ ê°•ìš°
   - ì²« ë²ˆì§¸ êµì°¨: íƒœí’ ì „ë°˜ë¶€
   - í•˜ê°•: ì¼ì‹œì  ì•½í™”
   - ë‘ ë²ˆì§¸ êµì°¨: íƒœí’ í›„ë°˜ë¶€
   â†’ 2ê°œ ì‚¬ê±´ìœ¼ë¡œ ë¶„ë¦¬ë˜ì§€ë§Œ, ì‹¤ì œë¡œëŠ” 1ê°œì˜ íƒœí’ ì‚¬ê±´
   ```

2. **ì‹œê°„ ì œì•½ ì—†ìŒ**
   - êµì°¨ ê°„ê²©ì´ 6ì‹œê°„ì´ë“  3ì¼ì´ë“  ìƒê´€ì—†ì´ ë¶„ë¦¬
   - ìµœì†Œ ê°„ê²© ê¸°ì¤€ ì—†ìŒ

3. **ì‚¬ê±´ í†µí•© ë¡œì§ ì—†ìŒ**
   ```python
   # ì´ëŸ° ë¡œì§ì´ ì—†ìŒ:
   if (êµì°¨2_ì‹œê°„ - êµì°¨1_í”¼í¬) < 12ì‹œê°„:
       # ê°™ì€ ì‚¬ê±´ìœ¼ë¡œ í†µí•©
   ```

---

## ğŸ“ ì‹¤ì œ ë°ì´í„° í™•ì¸

### 26ê°œ ì‚¬ê±´ ë¶„ì„

ì½”ë“œ ì‹¤í–‰ ê²°ê³¼: **26ê°œ ì‚¬ê±´ ê°ì§€**

**ì˜ë¬¸**: 
- ì´ ì¤‘ "ë¶„ë¦¬ë˜ì–´ì•¼ í•  1ê°œ ì‚¬ê±´ì´ 2ê°œë¡œ ë‚˜ë‰œ ê²½ìš°"ê°€ ìˆëŠ”ê°€?
- ë˜ëŠ” ëª¨ë‘ ë…ë¦½ì ì¸ ê°•ìš° ì‚¬ê±´ì¸ê°€?

### ê²€ì¦ ë°©ë²•

```python
# ì‚¬ê±´ ê°„ ì‹œê°„ ê°„ê²© í™•ì¸
for i in range(len(events)-1):
    gap = events[i+1]['êµì°¨ì‹œê°„'] - events[i]['í”¼í¬ì‹œê°„']
    print(f"ì‚¬ê±´ #{i+1} í”¼í¬ â†’ ì‚¬ê±´ #{i+2} êµì°¨: {gap.days}ì¼ {gap.seconds//3600}ì‹œê°„")
```

**ì˜ˆìƒ**:
- ëŒ€ë¶€ë¶„ **ë©°ì¹  ì´ìƒ** ê°„ê²©
- ì§§ì€ ê°„ê²©(< 24h)ì´ ìˆë‹¤ë©´ â†’ ê²€í†  í•„ìš”

---

## ğŸ’¡ ê°œì„  ê°€ëŠ¥ì„±

### ë°©ë²• 1: ìµœì†Œ ê°„ê²© ê¸°ì¤€ ì¶”ê°€

```python
# ì´ì „ ì‚¬ê±´ì˜ í”¼í¬ í›„ Xì‹œê°„ ë‚´ êµì°¨ëŠ” ì œì™¸
MIN_GAP_HOURS = 48

for idx in crossing_indices:
    crossing_time = df.loc[idx, 'ì¼ì‹œ']
    
    # ìƒˆë¡œìš´ ì²´í¬
    if len(events) > 0:
        last_peak = events[-1]['í”¼í¬ì‹œê°„']
        gap = (crossing_time - last_peak).total_seconds() / 3600
        if gap < MIN_GAP_HOURS:
            continue  # ë„ˆë¬´ ê°€ê¹Œìš°ë©´ ì œì™¸
    
    # ... ê¸°ì¡´ ë¡œì§
```

### ë°©ë²• 2: í•˜ê°• í™•ì¸ ê¸°ì¤€

```python
# êµì°¨ ì „ì— ì¶©ë¶„íˆ í•˜ê°•í–ˆëŠ”ì§€ í™•ì¸
DESCENT_THRESHOLD = 2.0  # 2.0m ì´í•˜ë¡œ ë–¨ì–´ì¡Œì–´ì•¼ í•¨

for idx in crossing_indices:
    # ì´ì „ 24ì‹œê°„ ìµœì†Œ ìˆ˜ìœ„ í™•ì¸
    pre_window = df[(df['ì¼ì‹œ'] >= crossing_time - 24h) & 
                    (df['ì¼ì‹œ'] < crossing_time)]
    min_before = pre_window['ìˆ˜ìœ„'].min()
    
    if min_before > DESCENT_THRESHOLD:
        continue  # ì¶©ë¶„íˆ ì•ˆ ë–¨ì–´ì¡Œìœ¼ë©´ ì—°ì† ì‚¬ê±´ìœ¼ë¡œ ê°„ì£¼
```

### ë°©ë²• 3: í›„ì²˜ë¦¬ í†µí•©

```python
# ì‚¬ê±´ ê°ì§€ í›„ ê°€ê¹Œìš´ ì‚¬ê±´ í†µí•©
def merge_close_events(events, max_gap_hours=48):
    merged = [events[0]]
    
    for i in range(1, len(events)):
        gap = (events[i]['êµì°¨ì‹œê°„'] - merged[-1]['í”¼í¬ì‹œê°„']).total_seconds() / 3600
        
        if gap < max_gap_hours:
            # í†µí•©: ë” í° í”¼í¬ ì„ íƒ
            if events[i]['ìµœëŒ€ìˆ˜ìœ„'] > merged[-1]['ìµœëŒ€ìˆ˜ìœ„']:
                merged[-1] = events[i]
        else:
            merged.append(events[i])
    
    return merged
```

---

## ğŸ¯ í˜„ì¬ ì½”ë“œì˜ ë™ì‘ - ìµœì¢… ì •ë¦¬

### ì§ˆë¬¸ ì‹œë‚˜ë¦¬ì˜¤

```
T=0h:  2.33 â†’ 2.35 (ìƒìŠ¹ êµì°¨)
T=3h:  2.40 â†’ 2.30 (í•˜ê°•, êµì°¨ ì•„ë‹˜)
T=6h:  2.30 â†’ 2.35 (ìƒìŠ¹ êµì°¨)
```

### ì½”ë“œ ì‹¤í–‰ ê³¼ì •

```
1. ìƒìŠ¹ êµì°¨ ê°ì§€:
   - T=0h: ê°ì§€ âœ…
   - T=6h: ê°ì§€ âœ…
   
2. ê° êµì°¨ì— ëŒ€í•´:
   
   êµì°¨ 1 (T=0h):
   - í”¼í¬ ì°¾ê¸° (0~24h ë²”ìœ„)
   - í”¼í¬ â‰¥ 2.44m? 
     - YES â†’ ì‚¬ê±´ #1ë¡œ ì €ì¥ âœ…
     - NO â†’ ì œì™¸
   
   êµì°¨ 2 (T=6h):
   - í”¼í¬ ì°¾ê¸° (6~30h ë²”ìœ„)
   - í”¼í¬ â‰¥ 2.44m?
     - YES â†’ ì‚¬ê±´ #2ë¡œ ì €ì¥ âœ…
     - NO â†’ ì œì™¸

3. ê²°ê³¼: 2ê°œ ì‚¬ê±´ (ì¤‘ë³µ ì²´í¬ ì—†ìŒ)
```

### ê²°ë¡ 

**YES, 2ê°œì˜ ë³„ê°œ ì‚¬ê±´ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.**

**ì¡°ê±´**:
- ë‘˜ ë‹¤ í”¼í¬ â‰¥ 2.44m ì´ì–´ì•¼ í•¨
- ì‹œê°„ ê°„ê²© ë¬´ê´€
- ì¤‘ë³µ ì œê±° ë¡œì§ ì—†ìŒ

---

## ğŸ“ ë…¼ë¬¸/ë°œí‘œ ì‹œ ì–¸ê¸‰ì‚¬í•­

### ì‚¬ê±´ ì •ì˜ì˜ ëª…í™•í™”

> "ë³¸ ì—°êµ¬ì—ì„œëŠ” ìˆ˜ìœ„ê°€ ê¸°ì¤€ê°’(2.34m)ì„ **ìƒìŠ¹í•˜ë©´ì„œ ì´ˆê³¼í•˜ëŠ” ì‹œì **ì„  
> ë…ë¦½ ì‚¬ê±´ì˜ ì‹œì‘ìœ¼ë¡œ ì •ì˜í•˜ì˜€ë‹¤. ê° ìƒìŠ¹ êµì°¨ëŠ” **ë³„ê°œì˜ ì‚¬ê±´**ìœ¼ë¡œ ê°„ì£¼ë˜ë©°,  
> í”¼í¬ ìˆ˜ìœ„ê°€ 2.44m ì´ìƒì¸ ê²½ìš°ë§Œ ë¶„ì„ ëŒ€ìƒìœ¼ë¡œ í¬í•¨í•˜ì˜€ë‹¤.  
> 
> ì´ ë°©ë²•ì€ ëª…í™•í•œ ì‚¬ê±´ ë¶„ë¦¬ ê¸°ì¤€ì„ ì œê³µí•˜ë‚˜, ë¬¼ë¦¬ì ìœ¼ë¡œ ì—°ì†ëœ  
> ê°•ìš° ì‚¬ê±´ì´ ì¼ì‹œì ìœ¼ë¡œ ì•½í™”ëœ í›„ ì¬ê°•í™”ë˜ëŠ” ê²½ìš° ë³„ê°œ ì‚¬ê±´ìœ¼ë¡œ  
> ë¶„ë¦¬ë  ê°€ëŠ¥ì„±ì´ ìˆë‹¤."

### Discussion í¬ì¸íŠ¸

- ì‚¬ê±´ ê°„ ìµœì†Œ ì‹œê°„ ê°„ê²© ê¸°ì¤€ì˜ í•„ìš”ì„±
- ì—°ì† ì‚¬ê±´ í†µí•© ì•Œê³ ë¦¬ì¦˜ì˜ ì ìš© ê°€ëŠ¥ì„±
- í˜„ì¬ ë°©ë²•ë¡ ì˜ ì¥ë‹¨ì 

---

**ì‘ì„±ì¼**: 2025-10-15  
**ì°¸ê³  ì½”ë“œ**: `ë¶„ì„ì½”ë“œ_comprehensive_data_integration_and_analysis.py` (247-303ë²ˆ ë¼ì¸)

