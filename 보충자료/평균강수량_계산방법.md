# í‰ê·  ê°•ìˆ˜ëŸ‰ ê³„ì‚° ë°©ë²• - ì •ì •

## âš ï¸ ì´ì „ ì„¤ëª…ì˜ ì˜¤ë¥˜

**ì˜ëª»ëœ ì„¤ëª…**: "48ì‹œê°„ êµ¬ê°„ì˜ í‰ê· "

**ì •í™•í•œ ì„¤ëª…**: **"ë¶„ì„ êµ¬ê°„ ì „ì²´ì˜ í‰ê· "** (ì‚¬ê±´ë§ˆë‹¤ ê¸¸ì´ ë‹¤ë¦„)

---

## âœ… ì •í™•í•œ ì½”ë“œ ë¶„ì„

### ì½”ë“œ (273-277ë²ˆ ë¼ì¸)

```python
# ë¶„ì„ ê¸°ê°„: êµì°¨ 24ì‹œê°„ ì „ ~ í”¼í¬ í›„ 24ì‹œê°„
event_start = crossing_time - timedelta(hours=24)
event_end = peak_time + timedelta(hours=24)

event_data = df[(df['ì¼ì‹œ'] >= event_start) & (df['ì¼ì‹œ'] <= event_end)].copy()
```

### êµ¬ê°„ ê¸¸ì´ ê³„ì‚°

```
ì´ ê¸¸ì´ = event_end - event_start
       = (peak_time + 24h) - (crossing_time - 24h)
       = peak_time - crossing_time + 48h
       = (êµì°¨~í”¼í¬ ì‹œê°„ì°¨) + 48ì‹œê°„
```

**ì¤‘ìš”**: `êµì°¨~í”¼í¬ ì‹œê°„ì°¨`ëŠ” **ì‚¬ê±´ë§ˆë‹¤ ë‹¤ë¦„!**

---

## ğŸ“Š êµ¬ì²´ì  ì˜ˆì‹œ

### ì‚¬ê±´ #3 (2017-07-09)

ì‹¤ì œ ë°ì´í„°:
- **êµì°¨ ì‹œê°„**: 2017-07-09 15:00
- **í”¼í¬ ì‹œê°„**: 2017-07-09 18:00
- **ì‹œê°„ ì°¨ì´**: 3ì‹œê°„

ë¶„ì„ êµ¬ê°„:
- **ì‹œì‘**: 2017-07-08 15:00 (êµì°¨ 24h ì „)
- **ì¢…ë£Œ**: 2017-07-10 18:00 (í”¼í¬ 24h í›„)
- **ì´ ê¸¸ì´**: 24 + 3 + 24 = **51ì‹œê°„** âœ…

ë°ì´í„° í¬ì¸íŠ¸ (1ì‹œê°„ ê°„ê²©):
- **51ê°œ** ì‹œê°„ ë°ì´í„° í¬ì¸íŠ¸

í‰ê·  ê³„ì‚°:
```python
XÌ„ (ê¸ˆì²œ í‰ê· ) = (xâ‚ + xâ‚‚ + ... + xâ‚…â‚) / 51
È² (ê°€ë• í‰ê· ) = (yâ‚ + yâ‚‚ + ... + yâ‚…â‚) / 51
```

---

## ğŸ” ë‹¤ë¥¸ ì‚¬ê±´ë“¤ì˜ êµ¬ê°„ ê¸¸ì´

| ì‚¬ê±´ | êµì°¨~í”¼í¬ | êµ¬ê°„ ê¸¸ì´ | ë°ì´í„° í¬ì¸íŠ¸ |
|------|----------|----------|--------------|
| #3 | 3ì‹œê°„ | 51ì‹œê°„ | 51ê°œ |
| #4 | 5ì‹œê°„ | 53ì‹œê°„ | 53ê°œ |
| #18 | 7ì‹œê°„ | 55ì‹œê°„ | 55ê°œ |
| ... | ë‹¤ì–‘ | **ì‚¬ê±´ë§ˆë‹¤ ë‹¤ë¦„** | **ì‚¬ê±´ë§ˆë‹¤ ë‹¤ë¦„** |

---

## ğŸ’¡ ì™œ ì‚¬ê±´ë§ˆë‹¤ ë‹¤ë¥¸ê°€?

### ìˆ˜ìœ„ ë°˜ì‘ ì†ë„ ì°¨ì´

1. **ë¹ ë¥¸ ë°˜ì‘ ì‚¬ê±´**: êµì°¨ í›„ 2-3ì‹œê°„ ë§Œì— í”¼í¬
   - êµ¬ê°„: ì•½ 50-51ì‹œê°„
   
2. **ëŠë¦° ë°˜ì‘ ì‚¬ê±´**: êµì°¨ í›„ 10ì‹œê°„ ì´ìƒ ë’¤ í”¼í¬
   - êµ¬ê°„: ì•½ 58ì‹œê°„ ì´ìƒ

### ì½”ë“œ ë¡œì§

```python
# í”¼í¬ ì°¾ê¸°: êµì°¨ ì‹œì ë¶€í„° ë‹¤ìŒ 24ì‹œê°„ ë‚´ ìµœëŒ€ ìˆ˜ìœ„
peak_end_time = crossing_time + timedelta(hours=24)
peak_window = df[(df['ì¼ì‹œ'] >= crossing_time) & (df['ì¼ì‹œ'] <= peak_end_time)]

max_level = peak_window['ìˆ˜ìœ„'].max()
peak_time = peak_window[peak_window['ìˆ˜ìœ„'] == max_level]['ì¼ì‹œ'].iloc[0]
```

â†’ **ê° ì‚¬ê±´ë§ˆë‹¤ ì‹¤ì œ í”¼í¬ ì‹œê°„ì´ ë‹¤ë¥´ë¯€ë¡œ êµ¬ê°„ ê¸¸ì´ë„ ë‹¤ë¦„**

---

## ğŸ“ ìƒê´€ê³„ìˆ˜ ê³„ì‚°

### ì‹¤ì œ ì½”ë“œ (426ë²ˆ ë¼ì¸)

```python
features["ë™ì‹œ_ìƒê´€ê³„ìˆ˜"] = event_data[['ê¸ˆì²œ_ê°•ìˆ˜ëŸ‰', 'ê°€ë•_ê°•ìˆ˜ëŸ‰']].corr().iloc[0, 1]
```

### ë‚´ë¶€ ë™ì‘

```python
# event_dataëŠ” í•´ë‹¹ ì‚¬ê±´ì˜ ì „ì²´ ë¶„ì„ êµ¬ê°„ ë°ì´í„°
# ì˜ˆ: ì‚¬ê±´ #3ì˜ ê²½ìš° 51ê°œ í–‰

x = event_data['ê¸ˆì²œ_ê°•ìˆ˜ëŸ‰']  # ê¸¸ì´ = êµ¬ê°„ ì‹œê°„ ìˆ˜
y = event_data['ê°€ë•_ê°•ìˆ˜ëŸ‰']  # ê¸¸ì´ = êµ¬ê°„ ì‹œê°„ ìˆ˜

# í‰ê·  ê³„ì‚°
x_mean = x.mean()  # êµ¬ê°„ ì „ì²´ì˜ í‰ê· 
y_mean = y.mean()  # êµ¬ê°„ ì „ì²´ì˜ í‰ê· 

# ìƒê´€ê³„ìˆ˜
r = Î£[(xáµ¢ - x_mean)(yáµ¢ - y_mean)] / âˆš[Î£(xáµ¢ - x_mean)Â² Â· Î£(yáµ¢ - y_mean)Â²]
```

---

## âœ… ì •ì •ëœ ì„¤ëª…

### Pearson ìƒê´€ê³„ìˆ˜ ê³µì‹

```
         Î£[(Xi - XÌ„)(Yi - È²)]
r = â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    âˆš[Î£(Xi - XÌ„)Â²] Ã— âˆš[Î£(Yi - È²)Â²]
```

**ë³€ìˆ˜ ì •ì˜**:
- **Xi**: ë¶„ì„ êµ¬ê°„ ë‚´ ì‹œê° iì—ì„œ ê¸ˆì²œ ê°•ìˆ˜ëŸ‰
- **Yi**: ë¶„ì„ êµ¬ê°„ ë‚´ ì‹œê° iì—ì„œ ê°€ë• ê°•ìˆ˜ëŸ‰
- **XÌ„**: **ë¶„ì„ êµ¬ê°„ ì „ì²´**ì˜ ê¸ˆì²œ í‰ê·  ê°•ìˆ˜ëŸ‰ â­
- **È²**: **ë¶„ì„ êµ¬ê°„ ì „ì²´**ì˜ ê°€ë• í‰ê·  ê°•ìˆ˜ëŸ‰ â­
- **n**: ë¶„ì„ êµ¬ê°„ì˜ ì‹œê°„ í¬ì¸íŠ¸ ìˆ˜ (ì‚¬ê±´ë§ˆë‹¤ ë‹¤ë¦„)

**ë¶„ì„ êµ¬ê°„**:
- ì‹œì‘: êµì°¨ ì‹œê°„ - 24ì‹œê°„
- ì¢…ë£Œ: í”¼í¬ ì‹œê°„ + 24ì‹œê°„
- **ì´ ê¸¸ì´**: 48ì‹œê°„ + (í”¼í¬ì‹œê°„ - êµì°¨ì‹œê°„)
- **ì‚¬ê±´ë§ˆë‹¤ ë‹¤ë¦„!** (ì˜ˆ: 50~60ì‹œê°„)

---

## ğŸ“ í•µì‹¬ ì •ë¦¬

### âŒ ì˜ëª»ëœ í‘œí˜„
- "48ì‹œê°„ êµ¬ê°„ì˜ í‰ê· "
- "ê³ ì •ëœ ê¸¸ì´"

### âœ… ì˜¬ë°”ë¥¸ í‘œí˜„
- **"ë¶„ì„ êµ¬ê°„ ì „ì²´ì˜ í‰ê· "**
- **"êµì°¨ 24h ì „ ~ í”¼í¬ 24h í›„"**
- **"ì‚¬ê±´ë§ˆë‹¤ êµ¬ê°„ ê¸¸ì´ê°€ ë‹¤ë¦„"**

### ğŸ’¡ ì™œ ì´ë ‡ê²Œ ì •ì˜í–ˆë‚˜?

1. **ë¬¼ë¦¬ì  ì˜ë¯¸**: 
   - êµì°¨ ì „ 24h: ì„ í–‰ ê°•ìš° ì˜í–¥ í¬í•¨
   - êµì°¨ ~ í”¼í¬: ìˆ˜ìœ„ ìƒìŠ¹ êµ¬ê°„
   - í”¼í¬ í›„ 24h: ìˆ˜ìœ„ í•˜ê°• ë° í›„ì† ì˜í–¥

2. **íŒ¨í„´ ë¹„êµ**:
   - ê° ì‚¬ê±´ì˜ ì „ì²´ ê°•ìš° ê³¼ì •ì„ í¬í•¨
   - ì‚¬ê±´ë³„ íŠ¹ì„±ì„ ì™„ì „íˆ ë°˜ì˜

3. **ê°€ë³€ ê¸¸ì´ì˜ í•„ìš”ì„±**:
   - ë¹ ë¥¸ ë°˜ì‘ vs ëŠë¦° ë°˜ì‘ ì‚¬ê±´
   - ê° ì‚¬ê±´ì˜ ê³ ìœ í•œ ìˆ˜ë¬¸í•™ì  íŠ¹ì„±

---

## ğŸ¯ ìµœì¢… ë‹µë³€

**ì§ˆë¬¸**: "í‰ê·  ê°•ìˆ˜ëŸ‰ì€ 48ì‹œê°„ êµ¬ê°„ì˜ í‰ê· ì¸ê°€?"

**ë‹µë³€**: **ì•„ë‹™ë‹ˆë‹¤!** 

ì •í™•íˆëŠ”:
- **"ë¶„ì„ êµ¬ê°„ ì „ì²´ì˜ í‰ê· "**
- êµ¬ê°„ = **êµì°¨ 24h ì „ ~ í”¼í¬ 24h í›„**
- ê¸¸ì´ = **48h + (êµì°¨~í”¼í¬ ì‹œê°„ì°¨)**
- ì˜ˆì‹œ: 51ì‹œê°„, 53ì‹œê°„, 55ì‹œê°„ ë“± **ì‚¬ê±´ë§ˆë‹¤ ë‹¤ë¦„**

---

**ì‘ì„±ì¼**: 2025-10-15  
**ì •ì • ì´ìœ **: ì‚¬ìš©ì ì§€ì ì— ë”°ë¥¸ ì •í™•í•œ ì½”ë“œ í™•ì¸  
**ì°¸ê³ **: `ë¶„ì„ì½”ë“œ_comprehensive_data_integration_and_analysis.py` (260-277, 426ë²ˆ ë¼ì¸)

